<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0"> <!-- displays site properly based on user's device -->

	<link rel="icon" type="image/png" sizes="32x32" href="./images/favicon-32x32.png">
	<link rel="stylesheet" href="./index.css">
	<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">
  
  <title>Frontend Mentor | Intro component with sign up form</title>

  <!-- Feel free to remove these styles or customise in your own stylesheet 👍 -->
  <style>
    .attribution { font-size: 11px; text-align: center; }
    .attribution a { color: hsl(228, 45%, 44%); }
  </style>
</head>
<body class="stack center">
	<main class="stack center">
		<div class="container stack center">
			<div class="hero-section stack center">
				<h2>Learn to code by watching others</h2>
				<p>
					See how experienced developers solve problems in real-time. Watching scripted tutorials is great, 
					but understanding how developers think is invaluable. 
				</p>
			</div>
			<div class="form-section stack">
				<button class="trail-button">Try it free 7 days <span>then $20/mo. thereafter</span></button>
				<form action="#" class="stack signup-form">
					<div class="stack first-name-input">
						<img src="/images/icon-error.svg" alt="error-icon">
						<input type="text" placeholder="First Name" required>					
						<p class="error-message">First name cannot be empty</p>	
					</div>
					<div class="stack last-name-input">
						<img src="/images/icon-error.svg" alt="error-icon">
						<input type="text" placeholder="Last Name" required>
						<p class="error-message">Last name cannot be empty</p>	
					</div>
					<div class="stack email-input">
						<img src="/images/icon-error.svg" alt="error-icon">
						<input type="email" placeholder="Email Address" required>
						<p class="error-message">Email cannot be empty</p>
						<p class="error-message">Looks like this is not an email</p>
					</div>
					<div class="stack password-input">
						<img src="/images/icon-error.svg" alt="error-icon">
						<input type="password" placeholder="Password" required>
						<p class="error-message">Password cannot be empty</p>	
					</div>
					<button onclick="validateForm()">Claim your free trial</button>
					<p>By clicking the button, you are agreeing to our <a href="#">Terms and Services</a></p>
				</form>
			</div>
		</div>
	</main>
  <footer>
    <p class="attribution">
      Challenge by <a href="https://www.frontendmentor.io?ref=challenge" target="_blank">Frontend Mentor</a>. 
      Coded by <a href="#">Kiriratanak</a>.
    </p>
	</footer>
	
	<script>
		document.querySelector('form button').addEventListener('click', (event) => {
			event.preventDefault()
		})
		let validateEmail = (emailInputHolder) => {
			let field = emailInputHolder.children[1]
			let errMsg = emailInputHolder.children[3]
			let errIcon = emailInputHolder.children[0]
			let mailformat = /^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/
			if(field.value) {
				if(!field.value.match(mailformat)) {
					field.style.border = '1px solid hsl(0, 100%, 74%)'
					field.style.color = 'hsl(0, 100%, 74%)'
					errMsg.style.display = 'block'
					errIcon.style.display = 'block'
				}
				else {
					field.style.border = '1px solid lightgray'
					field.style.color = 'hsl(249, 10%, 26%)'
					errMsg.style.display = 'none'
					errIcon.style.display = 'none'
				}
			}
			else { errMsg.style.display = 'none' }
		}

		let validateForm = () => {
			let firstNameInput = document.querySelector('.first-name-input')
			let lastNameInput = document.querySelector('.last-name-input')
			let emailInput = document.querySelector('.email-input')
			let passwordInput = document.querySelector('.password-input')
			
			checkInput(firstNameInput)
			checkInput(lastNameInput)
			checkInput(emailInput)
			validateEmail(emailInput)
			checkInput(passwordInput)
		}

		let checkInput = (inputHolder) => {
			let field = inputHolder.children[1]
			let errMsg = inputHolder.children[2]
			let errIcon = inputHolder.children[0]
			if(!field.value) {
				field.style.border = '1px solid hsl(0, 100%, 74%)'
				errMsg.style.display = 'block'
				errIcon.style.display = 'block'
			} 
			else {
				field.style.border = '1px solid lightgray'
				errMsg.style.display = 'none'
				errIcon.style.display = 'none'
			}
		}
	</script>
</body>
</html>